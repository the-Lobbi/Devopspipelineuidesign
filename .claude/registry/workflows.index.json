{
  "$schema": "./schema/workflows.schema.json",
  "version": "1.0.0",
  "description": "Workflow registry for multi-agent orchestration patterns",

  "workflows": {
    "development": {
      "feature-development": {
        "path": ".claude/workflows/feature-development.md",
        "description": "End-to-end feature development workflow with planning, coding, testing, and review",
        "type": "hybrid",
        "keywords": ["feature", "develop", "implement", "build", "create"],
        "agents": ["planner", "coder", "tester", "reviewer", "docs-writer"],
        "triggers": ["implement feature", "build feature", "create feature", "develop"],
        "stages": ["plan", "implement", "test", "review", "document"],
        "estimatedDuration": "2-4 hours",
        "priority": "high"
      },
      "code-review": {
        "path": ".claude/workflows/code-review.md",
        "description": "Comprehensive code review with security, performance, and style checks",
        "type": "parallel",
        "keywords": ["review", "pr", "pull-request", "check", "audit"],
        "agents": ["reviewer", "security-auditor", "performance-engineer", "code-analyzer"],
        "triggers": ["review code", "check pr", "review pull request"],
        "stages": ["style-check", "security-scan", "performance-review", "synthesis"],
        "estimatedDuration": "30-60 minutes",
        "priority": "high"
      }
    },

    "devops": {
      "ci-cd-workflow": {
        "path": ".claude/workflows/ci-cd-workflow.json",
        "description": "Automated CI/CD pipeline with testing, security scanning, and deployment",
        "type": "sequential",
        "keywords": ["ci", "cd", "pipeline", "deploy", "build", "release"],
        "agents": ["reviewer", "tester", "security-auditor", "docker-builder", "k8s-deployer"],
        "triggers": ["deploy", "release", "ci/cd", "pipeline"],
        "stages": ["review", "test", "security", "build", "deploy"],
        "estimatedDuration": "15-45 minutes",
        "priority": "high"
      },
      "incident-response": {
        "path": ".claude/workflows/incident-response.md",
        "description": "Incident detection, diagnosis, and resolution workflow",
        "type": "sequential",
        "keywords": ["incident", "outage", "emergency", "fix", "debug"],
        "agents": ["incident-responder", "debugger", "observability", "sre-engineer"],
        "triggers": ["incident", "outage", "production issue", "emergency"],
        "stages": ["detect", "diagnose", "resolve", "postmortem"],
        "estimatedDuration": "1-4 hours",
        "priority": "critical"
      }
    },

    "project-management": {
      "sprint-management": {
        "path": ".claude/workflows/sprint-management.md",
        "description": "Sprint planning, execution, and retrospective workflow",
        "type": "hybrid",
        "keywords": ["sprint", "agile", "scrum", "plan", "retro"],
        "agents": ["scrum-master", "product-owner", "sprint-analyst", "jira-specialist"],
        "triggers": ["sprint plan", "sprint planning", "manage sprint"],
        "stages": ["planning", "refinement", "execution", "review", "retrospective"],
        "estimatedDuration": "1-2 days",
        "priority": "medium"
      },
      "scrum-ceremonies": {
        "path": ".claude/workflows/scrum-ceremonies.md",
        "description": "Daily standups, sprint reviews, and retrospectives",
        "type": "sequential",
        "keywords": ["standup", "ceremony", "retro", "review", "scrum"],
        "agents": ["scrum-master", "agile-coach"],
        "triggers": ["standup", "daily scrum", "sprint review", "retro"],
        "stages": ["preparation", "execution", "documentation"],
        "estimatedDuration": "15-60 minutes",
        "priority": "medium"
      }
    },

    "integration": {
      "atlassian-integration": {
        "path": ".claude/workflows/atlassian-integration.md",
        "description": "Jira and Confluence synchronization workflow",
        "type": "parallel",
        "keywords": ["jira", "confluence", "atlassian", "sync", "integration"],
        "agents": ["jira-specialist", "confluence-specialist", "atlassian-admin"],
        "triggers": ["sync jira", "update confluence", "atlassian sync"],
        "stages": ["extract", "transform", "sync", "verify"],
        "estimatedDuration": "5-15 minutes",
        "priority": "medium",
        "requiredMcps": ["atlassian"]
      }
    },

    "data": {
      "data-processing-workflow": {
        "path": ".claude/workflows/data-processing-workflow.json",
        "description": "ETL pipeline with AI-powered data quality validation",
        "type": "hybrid",
        "keywords": ["etl", "data", "pipeline", "transform", "load"],
        "agents": ["data-engineer", "data-analyst", "ml-engineer"],
        "triggers": ["process data", "etl", "data pipeline"],
        "stages": ["extract", "transform", "quality-check", "load"],
        "estimatedDuration": "30-120 minutes",
        "priority": "medium"
      }
    },

    "group": {
      "group-chat-workflow": {
        "path": ".claude/workflows/group-chat-workflow.json",
        "description": "Multi-agent collaborative discussion workflow",
        "type": "parallel",
        "keywords": ["chat", "discussion", "collaborate", "brainstorm"],
        "agents": ["researcher", "coder", "reviewer", "planner"],
        "triggers": ["discuss", "brainstorm", "collaborate"],
        "stages": ["initiate", "discuss", "synthesize", "conclude"],
        "estimatedDuration": "15-45 minutes",
        "priority": "low"
      },
      "sequential-workflow": {
        "path": ".claude/workflows/sequential-workflow.json",
        "description": "Sequential multi-agent task execution",
        "type": "sequential",
        "keywords": ["sequence", "chain", "steps", "pipeline"],
        "agents": ["configurable"],
        "triggers": ["run sequence", "execute pipeline"],
        "stages": ["configurable"],
        "estimatedDuration": "variable",
        "priority": "medium"
      }
    }
  },

  "workflowPatterns": {
    "hierarchical": {
      "description": "Single coordinator delegates to worker agents",
      "coordinator": "hierarchical-coordinator",
      "useCase": "Complex features requiring strict coordination",
      "example": "Implementing a new authentication system"
    },
    "mesh": {
      "description": "Peer-to-peer distributed coordination",
      "coordinator": "mesh-coordinator",
      "useCase": "Research and analysis tasks",
      "example": "Multi-perspective code review"
    },
    "adaptive": {
      "description": "Dynamic topology switching based on task",
      "coordinator": "adaptive-coordinator",
      "useCase": "Mixed workloads with varying complexity",
      "example": "Incident response with unknown scope"
    },
    "pipeline": {
      "description": "Sequential stage-based processing",
      "coordinator": null,
      "useCase": "Well-defined linear processes",
      "example": "CI/CD deployment pipeline"
    }
  },

  "activationRules": {
    "keywordMatching": {
      "enabled": true,
      "minScore": 2,
      "weights": {
        "exactMatch": 5,
        "partialMatch": 2,
        "contextMatch": 1
      }
    },
    "contextAware": {
      "enabled": true,
      "sources": ["user_message", "file_context", "active_agents", "recent_workflows"]
    }
  },

  "stats": {
    "totalWorkflows": 10,
    "byType": {
      "sequential": 3,
      "parallel": 3,
      "hybrid": 4
    },
    "byCategory": {
      "development": 2,
      "devops": 2,
      "project-management": 2,
      "integration": 1,
      "data": 1,
      "group": 2
    }
  }
}
